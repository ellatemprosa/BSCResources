*--------------------------------------------------------------------*;
* Program: /jml/biostatmethods/chapter7/hlbwt.sas                    *;
* Source:  Biostatistical Methods: The assessment of Relative Risks  *;
*          John Wiley and Sons, 2000                                 *;
* Author:  John M. Lachin <jml@biostat.bsc.gwu.edu>                  *;
*          Copyright (c) 2000 by John M. Lachin                      *;
* Purpose: Low birthweight data from Hosmer and Lemeshow (1989) and  *;
*          the SAS program presented in Table 7.8 that generates     *;
*          the output presented in Table 7.9. See the documentation  *;
*          in DataSets.                                              *;
* Web URL: http://www.bsc.gwu.edu/jml/biostatmethods                 *;
*--------------------------------------------------------------------*;
 
Title1 'Low birthweight data from Hosmer and Lemeshow (1989)';
 
data one;
 input matchset casen controln lwt smoke ht ui case time;
cards;
   1   1   0   130   0   0   0   1   1
   1   0   1   110   0   0   0   0   2
   1   0   2   112   0   0   0   0   2
   1   0   3   135   1   0   0   0   2
   1   0   4   135   1   0   0   0   2
   1   0   5   170   0   0   0   0   2
   1   0   6    95   0   0   0   0   2
   2   1   0   130   1   0   1   1   1
   2   2   0   110   1   0   0   1   1
   2   3   0   120   1   0   0   1   1
   2   4   0   120   0   0   0   1   1
   2   5   0   142   0   1   0   1   1
   2   0   1   103   0   0   0   0   2
   2   0   2   122   1   0   0   0   2
   2   0   3   113   0   0   0   0   2
   2   0   4   113   0   0   0   0   2
   2   0   5   119   0   0   0   0   2
   2   0   6   119   0   0   0   0   2
   2   0   7   120   1   0   0   0   2
   3   1   0   148   0   0   0   1   1
   3   2   0   110   1   0   0   1   1
   3   0   1   107   1   0   1   0   2
   3   0   2   100   1   0   0   0   2
   3   0   3   100   1   0   0   0   2
   3   0   4    90   1   0   1   0   2
   3   0   5    90   1   0   1   0   2
   3   0   6   229   0   0   0   0   2
   3   0   7   120   1   0   0   0   2
   3   0   8   120   0   0   0   0   2
   4   1   0    91   1   0   1   1   1
   4   2   0   102   0   0   0   1   1
   4   3   0   112   1   0   1   1   1
   4   0   1   182   0   0   1   0   2
   4   0   2    95   0   0   0   0   2
   4   0   3   150   0   0   0   0   2
   4   0   4   138   1   0   0   0   2
   4   0   5   189   0   0   0   0   2
   4   0   6   132   0   0   0   0   2
   4   0   7   115   0   0   0   0   2
   4   0   8   105   0   0   0   0   2
   4   0   9   235   1   1   0   0   2
   4   0  10   147   1   0   0   0   2
   4   0  11   147   1   0   0   0   2
   4   0  12   184   1   1   0   0   2
   4   0  13   120   1   0   0   0   2
   5   1   0   150   1   0   0   1   1
   5   2   0   125   0   0   1   1   1
   5   3   0   120   1   0   0   1   1
   5   4   0    80   1   0   1   1   1
   5   5   0   109   0   0   0   1   1
   5   6   0   121   1   0   1   1   1
   5   7   0   122   1   0   0   1   1
   5   8   0   105   0   0   0   1   1
   5   0   1   105   1   0   0   0   2
   5   0   2   120   0   0   1   0   2
   5   0   3   103   0   0   0   0   2
   5   0   4   169   0   0   1   0   2
   5   0   5   141   0   0   1   0   2
   5   0   6   121   1   0   0   0   2
   5   0   7   127   0   0   0   0   2
   5   0   8   120   0   0   0   0   2
   5   0   9   170   1   0   0   0   2
   5   0  10   158   0   0   0   0   2
   6   1   0   165   1   1   0   1   1
   6   2   0   200   0   0   1   1   1
   6   3   0   103   0   0   0   1   1
   6   4   0   100   0   0   0   1   1
   6   5   0   130   1   1   0   1   1
   6   0   1   108   1   0   1   0   2
   6   0   2   124   0   0   0   0   2
   6   0   3   185   1   0   0   0   2
   6   0   4   160   0   0   0   0   2
   6   0   5   110   1   0   1   0   2
   6   0   6   134   0   0   0   0   2
   6   0   7   115   0   0   0   0   2
   7   1   0   130   1   0   1   1   1
   7   2   0   130   1   0   0   1   1
   7   0   1   118   0   0   0   0   2
   7   0   2    95   0   1   0   0   2
   7   0   3    85   1   0   0   0   2
   7   0   4   120   0   1   0   0   2
   7   0   5   130   1   0   0   0   2
   7   0   6   158   0   0   0   0   2
   7   0   7   112   1   0   0   0   2
   7   0   8   131   0   0   0   0   2
   7   0   9   125   0   0   0   0   2
   7   0  10   169   0   0   0   0   2
   7   0  11   129   0   0   0   0   2
   8   1   0    97   0   0   1   1   1
   8   2   0   187   1   0   0   1   1
   8   3   0   120   0   0   0   1   1
   8   4   0   110   1   0   0   1   1
   8   5   0    94   1   0   0   1   1
   8   0   1   130   0   0   0   0   2
   8   0   2   128   0   0   0   0   2
   8   0   3   119   0   0   0   0   2
   8   0   4   115   1   0   0   0   2
   8   0   5   190   0   0   0   0   2
   8   0   6   123   0   0   0   0   2
   8   0   7   130   0   0   0   0   2
   8   0   8   110   0   0   0   0   2
   9   1   0   128   0   0   0   1   1
   9   2   0   132   0   1   0   1   1
   9   3   0   155   1   0   0   1   1
   9   4   0   138   0   0   0   1   1
   9   5   0   105   1   0   0   1   1
   9   0   1    90   1   0   0   0   2
   9   0   2   115   0   0   0   0   2
   9   0   3   110   0   0   0   0   2
   9   0   4   115   0   0   0   0   2
   9   0   5   133   0   0   0   0   2
   9   0   6   110   0   0   0   0   2
   9   0   7   110   0   0   0   0   2
   9   0   8   116   0   0   0   0   2
  10   1   0   105   0   1   0   1   1
  10   2   0    85   0   0   1   1   1
  10   3   0   115   0   0   0   1   1
  10   4   0    92   1   0   0   1   1
  10   5   0    89   0   0   0   1   1
  10   6   0   105   0   0   0   1   1
  10   0   1   118   1   0   0   0   2
  10   0   2   120   0   0   1   0   2
  10   0   3   155   0   0   0   0   2
  10   0   4   125   0   0   0   0   2
  10   0   5   140   0   0   0   0   2
  10   0   6    95   1   0   1   0   2
  10   0   7   241   0   1   0   0   2
  10   0   8   120   0   0   0   0   2
  10   0   9   130   0   0   0   0   2
  11   1   0   117   1   0   0   1   1
  11   2   0    96   0   0   0   1   1
  11   3   0   154   0   1   0   1   1
  11   4   0   190   1   0   0   1   1
  11   0   1   113   1   0   0   0   2
  11   0   2   168   1   0   0   0   2
  11   0   3   133   1   0   0   0   2
  11   0   4   160   0   0   0   0   2
  12   1   0   150   0   0   0   1   1
  12   2   0   130   0   0   1   1   1
  12   0   1   124   1   0   0   0   2
  13   1   0   120   1   0   1   1   1
  13   2   0    95   1   0   0   1   1
  13   0   1   120   1   0   0   0   2
  13   0   2   120   0   0   0   0   2
  13   0   3   167   0   0   0   0   2
  13   0   4   140   0   0   0   0   2
  13   0   5   250   1   0   0   0   2
  13   0   6   134   0   0   0   0   2
  13   0   7   130   0   0   0   0   2
  14   1   0   130   0   0   1   1   1
  14   0   1   123   1   0   0   0   2
  14   0   2   150   0   0   0   0   2
  14   0   3   140   1   0   0   0   2
  14   0   4   135   0   0   0   0   2
  14   0   5   154   0   0   0   0   2
  14   0   6   130   1   0   0   0   2
  15   1   0   142   1   0   0   1   1
  15   0   1   107   0   0   1   0   2
  15   0   2    95   1   0   0   0   2
  15   0   3   153   0   0   0   0   2
  15   0   4   110   0   0   0   0   2
  15   0   5   137   0   0   0   0   2
  15   0   6   112   0   0   0   0   2
  16   1   0   102   1   0   0   1   1
  16   0   1   100   0   0   1   0   2
  16   0   2   215   1   0   0   0   2
  16   0   3   150   1   0   0   0   2
  16   0   4   120   0   0   0   0   2
  17   1   0   105   1   0   0   1   1
  17   0   1   121   0   0   0   0   2
  17   0   2   132   0   0   0   0   2
  17   0   3   134   1   0   0   0   2
  17   0   4   170   0   0   0   0   2
  17   0   5   186   0   0   0   0   2
;
 
proc sort; by matchset time;
 
proc phreg;
   model time*case(0) = lwt smoke ht ui / ties = discrete;
   strata matchset;
Title2 'Conditional logistic model fit through PHREG';
title3 'Controls treated as censored';
 
run;
